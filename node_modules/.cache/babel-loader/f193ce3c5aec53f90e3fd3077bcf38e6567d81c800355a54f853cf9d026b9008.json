{"ast":null,"code":"import React,{useState}from'react';import{Button}from'react-bootstrap';import'../ServiceCard.css';// No longer importing { Link } from 'react-router-dom';\nimport{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const ServiceCard=_ref=>{let{id,name:serviceName,minPrice,subtitle,description,extraLine,backgroundImage}=_ref;const[showInterestForm,setShowInterestForm]=useState(false);const[clientName,setClientName]=useState('');const[clientPhone,setClientPhone]=useState('');const handleInterestButtonClick=event=>{event.stopPropagation();// Prevent event from bubbling to parent elements\nsetShowInterestForm(true);};const handleFormSubmit=event=>{event.preventDefault();// Essential to prevent default form submission (page reload)\nevent.stopPropagation();if(!clientName.trim()||!clientPhone.trim()){alert('Пожалуйста, заполните имя и телефон.');return;}console.log({serviceId:id,serviceName,clientName,clientPhone});alert(\"\\u0421\\u043F\\u0430\\u0441\\u0438\\u0431\\u043E, \".concat(clientName,\"! \\u0412\\u0430\\u0448\\u0430 \\u0437\\u0430\\u044F\\u0432\\u043A\\u0430 \\u043D\\u0430 \\u0443\\u0441\\u043B\\u0443\\u0433\\u0443 \\\"\").concat(serviceName,\"\\\" \\u043F\\u0440\\u0438\\u043D\\u044F\\u0442\\u0430. \\u041C\\u044B \\u0441\\u043A\\u043E\\u0440\\u043E \\u0441\\u0432\\u044F\\u0436\\u0435\\u043C\\u0441\\u044F \\u0441 \\u0432\\u0430\\u043C\\u0438 \\u043F\\u043E \\u043D\\u043E\\u043C\\u0435\\u0440\\u0443 \").concat(clientPhone,\".\"));setClientName('');setClientPhone('');setShowInterestForm(false);};const handleCancelForm=event=>{event.stopPropagation();setShowInterestForm(false);setClientName('');setClientPhone('');};const handleOverlayClick=event=>{// If the form is shown, clicks on the overlay backdrop (not the form itself,\n// which handles its own stopPropagation) should also stop propagation.\n// You could also choose to close the form here if desired (e.g., setShowInterestForm(false)).\nif(showInterestForm){event.stopPropagation();}};return(/*#__PURE__*/// Replaced Link with a div. Kept className for styling consistency.\n_jsx(\"div\",{className:\"service-card-link\"// Assuming this class styles the card container\n,children:/*#__PURE__*/_jsxs(\"div\",{className:\"service-card\",style:{backgroundImage:\"url(\".concat(backgroundImage,\")\")}// The aria-hidden=\"true\" was on this div. Consider its implications\n// now that the parent is not an interactive Link.\n// Content within the card (text, form) should remain accessible.\n,\"aria-hidden\":\"true\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"service-card-title\",children:[/*#__PURE__*/_jsx(\"h3\",{children:serviceName}),/*#__PURE__*/_jsxs(\"p\",{children:[\"\\u043E\\u0442 \",minPrice.toLocaleString(),\" \\u20BD\"]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"service-card-overlay\",onClick:handleOverlayClick,children:showInterestForm?/*#__PURE__*/_jsxs(\"form\",{className:\"interest-form\",onSubmit:handleFormSubmit,onClick:e=>e.stopPropagation(),children:[/*#__PURE__*/_jsx(\"h4\",{children:\"\\u0417\\u0430\\u0438\\u043D\\u0442\\u0435\\u0440\\u0435\\u0441\\u043E\\u0432\\u0430\\u043B\\u0430 \\u0443\\u0441\\u043B\\u0443\\u0433\\u0430?\"}),/*#__PURE__*/_jsx(\"p\",{children:\"\\u041E\\u0441\\u0442\\u0430\\u0432\\u044C\\u0442\\u0435 \\u0432\\u0430\\u0448\\u0438 \\u043A\\u043E\\u043D\\u0442\\u0430\\u043A\\u0442\\u044B, \\u0438 \\u043C\\u044B \\u0441\\u0432\\u044F\\u0436\\u0435\\u043C\\u0441\\u044F \\u0441 \\u0432\\u0430\\u043C\\u0438.\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"form-name-\".concat(id),children:\"\\u0418\\u043C\\u044F:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"form-name-\".concat(id),value:clientName,onChange:e=>setClientName(e.target.value),onClick:e=>e.stopPropagation(),required:true,\"aria-required\":\"true\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"form-phone-\".concat(id),children:\"\\u0422\\u0435\\u043B\\u0435\\u0444\\u043E\\u043D:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"tel\",id:\"form-phone-\".concat(id),value:clientPhone,onChange:e=>setClientPhone(e.target.value),onClick:e=>e.stopPropagation(),required:true,\"aria-required\":\"true\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"interest-form-buttons\",children:[/*#__PURE__*/_jsx(Button,{type:\"submit\",className:\"submit-interest-button\",children:\"\\u041E\\u0442\\u043F\\u0440\\u0430\\u0432\\u0438\\u0442\\u044C\"}),/*#__PURE__*/_jsx(Button,{type:\"button\",variant:\"secondary\",onClick:handleCancelForm,className:\"cancel-interest-button\",children:\"\\u041E\\u0442\\u043C\\u0435\\u043D\\u0430\"})]})]}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"p\",{children:subtitle}),/*#__PURE__*/_jsx(\"p\",{children:description}),/*#__PURE__*/_jsx(\"p\",{children:extraLine}),/*#__PURE__*/_jsx(\"div\",{className:\"service-card-buttons\",children:/*#__PURE__*/_jsx(Button,{className:\"interest-button\",onClick:handleInterestButtonClick,children:\"\\u041C\\u043D\\u0435 \\u044D\\u0442\\u043E \\u0438\\u043D\\u0442\\u0435\\u0440\\u0435\\u0441\\u043D\\u043E\"})})]})})]})}));};export default ServiceCard;","map":{"version":3,"names":["React","useState","Button","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","ServiceCard","_ref","id","name","serviceName","minPrice","subtitle","description","extraLine","backgroundImage","showInterestForm","setShowInterestForm","clientName","setClientName","clientPhone","setClientPhone","handleInterestButtonClick","event","stopPropagation","handleFormSubmit","preventDefault","trim","alert","console","log","serviceId","concat","handleCancelForm","handleOverlayClick","className","children","style","toLocaleString","onClick","onSubmit","e","htmlFor","type","value","onChange","target","required","variant"],"sources":["C:/Users/Akram/Desktop/New folder/lab6F/lab6F/lab6/src/components/ServiceCard.tsx"],"sourcesContent":["import React, { useState, MouseEvent, FormEvent } from 'react';\r\nimport { Button } from 'react-bootstrap';\r\nimport '../ServiceCard.css';\r\n// No longer importing { Link } from 'react-router-dom';\r\n\r\ninterface IServiceCardProps {\r\n  id: number;\r\n  name: string;\r\n  minPrice: number;\r\n  subtitle: string;\r\n  description: string;\r\n  extraLine: string;\r\n  backgroundImage: string;\r\n}\r\n\r\nconst ServiceCard: React.FC<IServiceCardProps> = ({\r\n  id,\r\n  name: serviceName,\r\n  minPrice,\r\n  subtitle,\r\n  description,\r\n  extraLine,\r\n  backgroundImage,\r\n}) => {\r\n  const [showInterestForm, setShowInterestForm] = useState(false);\r\n  const [clientName, setClientName] = useState('');\r\n  const [clientPhone, setClientPhone] = useState('');\r\n\r\n  const handleInterestButtonClick = (event: MouseEvent<HTMLElement>) => {\r\n    event.stopPropagation(); // Prevent event from bubbling to parent elements\r\n    setShowInterestForm(true);\r\n  };\r\n\r\n  const handleFormSubmit = (event: FormEvent<HTMLFormElement>) => {\r\n    event.preventDefault(); // Essential to prevent default form submission (page reload)\r\n    event.stopPropagation();\r\n\r\n    if (!clientName.trim() || !clientPhone.trim()) {\r\n      alert('Пожалуйста, заполните имя и телефон.');\r\n      return;\r\n    }\r\n\r\n    console.log({\r\n      serviceId: id,\r\n      serviceName,\r\n      clientName,\r\n      clientPhone,\r\n    });\r\n    alert(`Спасибо, ${clientName}! Ваша заявка на услугу \"${serviceName}\" принята. Мы скоро свяжемся с вами по номеру ${clientPhone}.`);\r\n\r\n    setClientName('');\r\n    setClientPhone('');\r\n    setShowInterestForm(false);\r\n  };\r\n\r\n  const handleCancelForm = (event: MouseEvent<HTMLElement>) => {\r\n    event.stopPropagation();\r\n    setShowInterestForm(false);\r\n    setClientName('');\r\n    setClientPhone('');\r\n  };\r\n\r\n  const handleOverlayClick = (event: MouseEvent<HTMLDivElement>) => {\r\n    // If the form is shown, clicks on the overlay backdrop (not the form itself,\r\n    // which handles its own stopPropagation) should also stop propagation.\r\n    // You could also choose to close the form here if desired (e.g., setShowInterestForm(false)).\r\n    if (showInterestForm) {\r\n      event.stopPropagation();\r\n    }\r\n  }\r\n\r\n  return (\r\n    // Replaced Link with a div. Kept className for styling consistency.\r\n    <div\r\n      className=\"service-card-link\" // Assuming this class styles the card container\r\n    >\r\n      <div\r\n        className=\"service-card\"\r\n        style={{ backgroundImage: `url(${backgroundImage})` }}\r\n        // The aria-hidden=\"true\" was on this div. Consider its implications\r\n        // now that the parent is not an interactive Link.\r\n        // Content within the card (text, form) should remain accessible.\r\n        aria-hidden=\"true\"\r\n      >\r\n        <div className=\"service-card-title\">\r\n          <h3>{serviceName}</h3>\r\n          <p>от {minPrice.toLocaleString()} ₽</p>\r\n        </div>\r\n\r\n        <div className=\"service-card-overlay\" onClick={handleOverlayClick}>\r\n          {showInterestForm ? (\r\n            <form className=\"interest-form\" onSubmit={handleFormSubmit} onClick={(e) => e.stopPropagation()}>\r\n              <h4>Заинтересовала услуга?</h4>\r\n              <p>Оставьте ваши контакты, и мы свяжемся с вами.</p>\r\n              <div className=\"form-group\">\r\n                <label htmlFor={`form-name-${id}`}>Имя:</label>\r\n                <input\r\n                  type=\"text\"\r\n                  id={`form-name-${id}`}\r\n                  value={clientName}\r\n                  onChange={(e) => setClientName(e.target.value)}\r\n                  onClick={(e) => e.stopPropagation()}\r\n                  required\r\n                  aria-required=\"true\"\r\n                />\r\n              </div>\r\n              <div className=\"form-group\">\r\n                <label htmlFor={`form-phone-${id}`}>Телефон:</label>\r\n                <input\r\n                  type=\"tel\"\r\n                  id={`form-phone-${id}`}\r\n                  value={clientPhone}\r\n                  onChange={(e) => setClientPhone(e.target.value)}\r\n                  onClick={(e) => e.stopPropagation()}\r\n                  required\r\n                  aria-required=\"true\"\r\n                />\r\n              </div>\r\n              <div className=\"interest-form-buttons\">\r\n                <Button type=\"submit\" className=\"submit-interest-button\">\r\n                  Отправить\r\n                </Button>\r\n                <Button\r\n                  type=\"button\"\r\n                  variant=\"secondary\"\r\n                  onClick={handleCancelForm}\r\n                  className=\"cancel-interest-button\"\r\n                >\r\n                  Отмена\r\n                </Button>\r\n              </div>\r\n            </form>\r\n          ) : (\r\n            <>\r\n              <p>{subtitle}</p>\r\n              <p>{description}</p>\r\n              <p>{extraLine}</p>\r\n              <div className=\"service-card-buttons\">\r\n                <Button\r\n                  className=\"interest-button\"\r\n                  onClick={handleInterestButtonClick}\r\n                >\r\n                  Мне это интересно\r\n                </Button>\r\n              </div>\r\n            </>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ServiceCard;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}