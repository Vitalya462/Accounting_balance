{"ast":null,"code":"// Mock fallback data\nconst MOCK_SERVICES=[{id:1,title:'Массаж',description:'Релакс массаж спины',price:2000,date:'2025-04-01',imageUrl:''},{id:2,title:'Спа',description:'Спа-процедуры для лица',price:4500,date:'2025-04-05',imageUrl:'https://picsum.photos/id/1018/300/200'}];export const fetchServices=async function(){let name=arguments.length>0&&arguments[0]!==undefined?arguments[0]:'';let minPrice=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;let maxPrice=arguments.length>2&&arguments[2]!==undefined?arguments[2]:Infinity;let fromDate=arguments.length>3&&arguments[3]!==undefined?arguments[3]:'';let toDate=arguments.length>4&&arguments[4]!==undefined?arguments[4]:'';try{const params=new URLSearchParams();if(name)params.append('name',name);if(minPrice)params.append('minPrice',minPrice.toString());if(maxPrice<Infinity)params.append('maxPrice',maxPrice.toString());if(fromDate)params.append('fromDate',fromDate);if(toDate)params.append('toDate',toDate);const response=await fetch(\"/api/services?\".concat(params));if(!response.ok)throw new Error('Ошибка загрузки услуг');return await response.json();}catch(error){console.warn('Using mock data due to error:',error);return MOCK_SERVICES.filter(service=>{const matchesName=name===''||service.title.toLowerCase().includes(name.toLowerCase());const matchesMinPrice=service.price>=minPrice;const matchesMaxPrice=service.price<=maxPrice;const matchesFromDate=!fromDate||new Date(service.date)>=new Date(fromDate);const matchesToDate=!toDate||new Date(service.date)<=new Date(toDate);return matchesName&&matchesMinPrice&&matchesMaxPrice&&matchesFromDate&&matchesToDate;});}};","map":{"version":3,"names":["MOCK_SERVICES","id","title","description","price","date","imageUrl","fetchServices","name","arguments","length","undefined","minPrice","maxPrice","Infinity","fromDate","toDate","params","URLSearchParams","append","toString","response","fetch","concat","ok","Error","json","error","console","warn","filter","service","matchesName","toLowerCase","includes","matchesMinPrice","matchesMaxPrice","matchesFromDate","Date","matchesToDate"],"sources":["C:/Users/Akram/Desktop/New folder/lab6F/lab6F/guest-app/src/utils/api.ts"],"sourcesContent":["import { Service } from '../types';\r\n\r\n// Mock fallback data\r\nconst MOCK_SERVICES: Service[] = [\r\n  {\r\n    id: 1,\r\n    title: 'Массаж',\r\n    description: 'Релакс массаж спины',\r\n    price: 2000,\r\n    date: '2025-04-01',\r\n    imageUrl: ''\r\n  },\r\n  {\r\n    id: 2,\r\n    title: 'Спа',\r\n    description: 'Спа-процедуры для лица',\r\n    price: 4500,\r\n    date: '2025-04-05',\r\n    imageUrl: 'https://picsum.photos/id/1018/300/200' \r\n  }\r\n];\r\n\r\nexport const fetchServices = async (\r\n  name: string = '',\r\n  minPrice: number = 0,\r\n  maxPrice: number = Infinity,\r\n  fromDate: string = '',\r\n  toDate: string = ''\r\n): Promise<Service[]> => {\r\n  try {\r\n    const params = new URLSearchParams();\r\n    if (name) params.append('name', name);\r\n    if (minPrice) params.append('minPrice', minPrice.toString());\r\n    if (maxPrice < Infinity) params.append('maxPrice', maxPrice.toString());\r\n    if (fromDate) params.append('fromDate', fromDate);\r\n    if (toDate) params.append('toDate', toDate);\r\n\r\n    const response = await fetch(`/api/services?${params}`);\r\n    if (!response.ok) throw new Error('Ошибка загрузки услуг');\r\n    return await response.json();\r\n  } catch (error) {\r\n    console.warn('Using mock data due to error:', error);\r\n\r\n   \r\n    return MOCK_SERVICES.filter(service => {\r\n      const matchesName = name === '' || service.title.toLowerCase().includes(name.toLowerCase());\r\n      const matchesMinPrice = service.price >= minPrice;\r\n      const matchesMaxPrice = service.price <= maxPrice;\r\n      const matchesFromDate = !fromDate || new Date(service.date) >= new Date(fromDate);\r\n      const matchesToDate = !toDate || new Date(service.date) <= new Date(toDate);\r\n\r\n      return matchesName && matchesMinPrice && matchesMaxPrice && matchesFromDate && matchesToDate;\r\n    });\r\n  }\r\n};\r\n\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}