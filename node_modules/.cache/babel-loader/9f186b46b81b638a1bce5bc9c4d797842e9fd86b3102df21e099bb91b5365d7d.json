{"ast":null,"code":"import _objectSpread from\"C:/Users/Akram/Desktop/New folder/lab6F/lab6F/guest-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useEffect}from'react';import{Container,Row,Col,Form,Button}from'react-bootstrap';import ServiceCard from'../components/ServiceCard';import{useDispatch,useSelector}from'react-redux';import{setNameFilter,setMinPriceFilter,setMaxPriceFilter,setFromDateFilter,setToDateFilter,resetFilters}from'../features/filters/filterSlice';import{fetchServices}from'../utils/api';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const ServicesListPage=()=>{// Get filters from Redux\nconst filters=useSelector(state=>state.filters);const dispatch=useDispatch();// Local state for services\nconst[services,setServices]=React.useState([]);// Load services on mount & when filters change\nuseEffect(()=>{const loadServices=async()=>{const data=await fetchServices(filters.name,filters.minPrice,filters.maxPrice,filters.fromDate,filters.toDate);setServices(data);};loadServices();},[filters]);return/*#__PURE__*/_jsxs(Container,{className:\"mt-5\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"\\u0421\\u043F\\u0438\\u0441\\u043E\\u043A \\u0443\\u0441\\u043B\\u0443\\u0433\"}),/*#__PURE__*/_jsx(Form,{className:\"mb-4 p-3 border rounded bg-light\",children:/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsx(Col,{md:3,children:/*#__PURE__*/_jsxs(Form.Group,{controlId:\"formName\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"\\u0424\\u0438\\u043B\\u044C\\u0442\\u0440 \\u043F\\u043E \\u0438\\u043C\\u0435\\u043D\\u0438\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"text\",value:filters.name,onChange:e=>dispatch(setNameFilter(e.target.value))})]})}),/*#__PURE__*/_jsx(Col,{md:2,children:/*#__PURE__*/_jsxs(Form.Group,{controlId:\"formMinPrice\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"\\u041C\\u0438\\u043D. \\u0446\\u0435\\u043D\\u0430\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"number\",value:filters.minPrice,onChange:e=>dispatch(setMinPriceFilter(Number(e.target.value)))})]})}),/*#__PURE__*/_jsx(Col,{md:2,children:/*#__PURE__*/_jsxs(Form.Group,{controlId:\"formMaxPrice\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"\\u041C\\u0430\\u043A\\u0441. \\u0446\\u0435\\u043D\\u0430\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"number\",value:filters.maxPrice,onChange:e=>dispatch(setMaxPriceFilter(Number(e.target.value)))})]})}),/*#__PURE__*/_jsx(Col,{md:2,children:/*#__PURE__*/_jsxs(Form.Group,{controlId:\"formFromDate\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"\\u0421 \\u0434\\u0430\\u0442\\u044B\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"date\",value:filters.fromDate,onChange:e=>dispatch(setFromDateFilter(e.target.value))})]})}),/*#__PURE__*/_jsx(Col,{md:2,children:/*#__PURE__*/_jsxs(Form.Group,{controlId:\"formToDate\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"\\u041F\\u043E \\u0434\\u0430\\u0442\\u0443\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"date\",value:filters.toDate,onChange:e=>dispatch(setToDateFilter(e.target.value))})]})}),/*#__PURE__*/_jsx(Col,{md:1,className:\"d-flex align-items-end\",children:/*#__PURE__*/_jsx(Button,{variant:\"secondary\",onClick:()=>dispatch(resetFilters()),children:\"\\u0421\\u0431\\u0440\\u043E\\u0441\"})})]})}),/*#__PURE__*/_jsx(Row,{xs:1,md:3,className:\"g-4\",children:services.map(service=>/*#__PURE__*/_jsx(Col,{children:/*#__PURE__*/_jsx(ServiceCard,_objectSpread({},service))},service.id))})]});};export default ServicesListPage;","map":{"version":3,"names":["React","useEffect","Container","Row","Col","Form","Button","ServiceCard","useDispatch","useSelector","setNameFilter","setMinPriceFilter","setMaxPriceFilter","setFromDateFilter","setToDateFilter","resetFilters","fetchServices","jsx","_jsx","jsxs","_jsxs","ServicesListPage","filters","state","dispatch","services","setServices","useState","loadServices","data","name","minPrice","maxPrice","fromDate","toDate","className","children","md","Group","controlId","Label","Control","type","value","onChange","e","target","Number","variant","onClick","xs","map","service","_objectSpread","id"],"sources":["C:/Users/Akram/Desktop/New folder/lab6F/lab6F/guest-app/src/pages/ServicesListPage.tsx"],"sourcesContent":["import React, { useEffect } from 'react';\r\nimport { Container, Row, Col, Form, Button } from 'react-bootstrap';\r\nimport ServiceCard from '../components/ServiceCard';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport {\r\n  setNameFilter,\r\n  setMinPriceFilter,\r\n  setMaxPriceFilter,\r\n  setFromDateFilter,\r\n  setToDateFilter,\r\n  resetFilters\r\n} from '../features/filters/filterSlice';\r\nimport { fetchServices } from '../utils/api';\r\n\r\nconst ServicesListPage: React.FC = () => {\r\n  // Get filters from Redux\r\n  const filters = useSelector((state: any) => state.filters);\r\n  const dispatch = useDispatch();\r\n\r\n  // Local state for services\r\n  const [services, setServices] = React.useState<any[]>([]);\r\n\r\n  // Load services on mount & when filters change\r\n  useEffect(() => {\r\n    const loadServices = async () => {\r\n      const data = await fetchServices(\r\n        filters.name,\r\n        filters.minPrice,\r\n        filters.maxPrice,\r\n        filters.fromDate,\r\n        filters.toDate\r\n      );\r\n      setServices(data);\r\n    };\r\n\r\n    loadServices();\r\n  }, [filters]);\r\n\r\n  return (\r\n    <Container className=\"mt-5\">\r\n      <h2>Список услуг</h2>\r\n\r\n      {/* Filters */}\r\n      <Form className=\"mb-4 p-3 border rounded bg-light\">\r\n        <Row>\r\n          <Col md={3}>\r\n            <Form.Group controlId=\"formName\">\r\n              <Form.Label>Фильтр по имени</Form.Label>\r\n              <Form.Control\r\n                type=\"text\"\r\n                value={filters.name}\r\n                onChange={(e) => dispatch(setNameFilter(e.target.value))}\r\n              />\r\n            </Form.Group>\r\n          </Col>\r\n          <Col md={2}>\r\n            <Form.Group controlId=\"formMinPrice\">\r\n              <Form.Label>Мин. цена</Form.Label>\r\n              <Form.Control\r\n                type=\"number\"\r\n                value={filters.minPrice}\r\n                onChange={(e) => dispatch(setMinPriceFilter(Number(e.target.value)))}\r\n              />\r\n            </Form.Group>\r\n          </Col>\r\n          <Col md={2}>\r\n            <Form.Group controlId=\"formMaxPrice\">\r\n              <Form.Label>Макс. цена</Form.Label>\r\n              <Form.Control\r\n                type=\"number\"\r\n                value={filters.maxPrice}\r\n                onChange={(e) => dispatch(setMaxPriceFilter(Number(e.target.value)))}\r\n              />\r\n            </Form.Group>\r\n          </Col>\r\n          <Col md={2}>\r\n            <Form.Group controlId=\"formFromDate\">\r\n              <Form.Label>С даты</Form.Label>\r\n              <Form.Control\r\n                type=\"date\"\r\n                value={filters.fromDate}\r\n                onChange={(e) => dispatch(setFromDateFilter(e.target.value))}\r\n              />\r\n            </Form.Group>\r\n          </Col>\r\n          <Col md={2}>\r\n            <Form.Group controlId=\"formToDate\">\r\n              <Form.Label>По дату</Form.Label>\r\n              <Form.Control\r\n                type=\"date\"\r\n                value={filters.toDate}\r\n                onChange={(e) => dispatch(setToDateFilter(e.target.value))}\r\n              />\r\n            </Form.Group>\r\n          </Col>\r\n          <Col md={1} className=\"d-flex align-items-end\">\r\n            <Button variant=\"secondary\" onClick={() => dispatch(resetFilters())}>\r\n              Сброс\r\n            </Button>\r\n          </Col>\r\n        </Row>\r\n      </Form>\r\n\r\n      {/* Cards */}\r\n      <Row xs={1} md={3} className=\"g-4\">\r\n        {services.map((service) => (\r\n          <Col key={service.id}>\r\n            <ServiceCard {...service} />\r\n          </Col>\r\n        ))}\r\n      </Row>\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default ServicesListPage;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}